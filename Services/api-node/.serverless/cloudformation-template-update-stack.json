{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "The AWS CloudFormation template for this Serverless application",
  "Resources": {
    "GetCountriesLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getCountries"
      }
    },
    "PostTokenLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-postToken"
      }
    },
    "GetStockTermsLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getStockTerms"
      }
    },
    "GetStockCategoryLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getStockCategory"
      }
    },
    "UserFlowLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-userFlow"
      }
    },
    "GetNewsLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getNews"
      }
    },
    "GettermAnalysisLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-gettermAnalysis"
      }
    },
    "GetcategoryAnalysisLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getcategoryAnalysis"
      }
    },
    "GetsectorAnalysisLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getsectorAnalysis"
      }
    },
    "GetstockAnalysisLogGroup": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/lambda/SP-Node-Lambda-Functions-dev-getstockAnalysis"
      }
    },
    "IamRoleLambdaExecution": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Version": "2012-10-17",
          "Statement": [
            {
              "Effect": "Allow",
              "Principal": {
                "Service": [
                  "lambda.amazonaws.com"
                ]
              },
              "Action": [
                "sts:AssumeRole"
              ]
            }
          ]
        },
        "Policies": [
          {
            "PolicyName": {
              "Fn::Join": [
                "-",
                [
                  "SP-Node-Lambda-Functions",
                  "dev",
                  "lambda"
                ]
              ]
            },
            "PolicyDocument": {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "logs:CreateLogStream",
                    "logs:CreateLogGroup",
                    "logs:TagResource"
                  ],
                  "Resource": [
                    {
                      "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/SP-Node-Lambda-Functions-dev*:*"
                    }
                  ]
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "logs:PutLogEvents"
                  ],
                  "Resource": [
                    {
                      "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/SP-Node-Lambda-Functions-dev*:*:*"
                    }
                  ]
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "dynamodb:Scan",
                    "dynamodb:GetItem",
                    "dynamodb:Query",
                    "dynamodb:PutItem",
                    "dynamodb:UpdateItem"
                  ],
                  "Resource": "arn:aws:dynamodb:ap-south-1:332717545786:table/*"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "lambda:InvokeFunction"
                  ],
                  "Resource": "*"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "aws-marketplace:ViewSubscriptions",
                    "aws-marketplace:Subscribe"
                  ],
                  "Resource": "*"
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "bedrock:InvokeModel"
                  ],
                  "Resource": "*"
                }
              ]
            }
          }
        ],
        "Path": "/",
        "RoleName": {
          "Fn::Join": [
            "-",
            [
              "SP-Node-Lambda-Functions",
              "dev",
              {
                "Ref": "AWS::Region"
              },
              "lambdaRole"
            ]
          ]
        }
      }
    },
    "GetCountriesLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "handlers/country.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getCountries",
        "MemorySize": 1024,
        "Timeout": 30,
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetCountriesLogGroup"
      ]
    },
    "PostTokenLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "Common/auth.tokengeneration",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-postToken",
        "MemorySize": 1024,
        "Timeout": 30,
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "PostTokenLogGroup"
      ]
    },
    "GetStockTermsLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "handlers/stockTerm.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getStockTerms",
        "MemorySize": 1024,
        "Timeout": 30,
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetStockTermsLogGroup"
      ]
    },
    "GetStockCategoryLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "handlers/stockCategory.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getStockCategory",
        "MemorySize": 1024,
        "Timeout": 30,
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetStockCategoryLogGroup"
      ]
    },
    "UserFlowLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "handlers/userFlow.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-userFlow",
        "MemorySize": 1024,
        "Timeout": 30,
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "UserFlowLogGroup"
      ]
    },
    "GetNewsLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "External/newsAnalysis.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getNews",
        "MemorySize": 1024,
        "Timeout": 300,
        "Description": "Fetches news data for a given country and date range",
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetNewsLogGroup"
      ]
    },
    "GettermAnalysisLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "External/termAnalysis.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-gettermAnalysis",
        "MemorySize": 1024,
        "Timeout": 300,
        "Description": "Generate the term analysis for a given country",
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GettermAnalysisLogGroup"
      ]
    },
    "GetcategoryAnalysisLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "External/categoryAnalysis.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getcategoryAnalysis",
        "MemorySize": 1024,
        "Timeout": 300,
        "Description": "Generate the category analysis for a given country and term name",
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetcategoryAnalysisLogGroup"
      ]
    },
    "GetsectorAnalysisLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "External/sectorAnalysis.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getsectorAnalysis",
        "MemorySize": 1024,
        "Timeout": 300,
        "Description": "Generate the sector analysis for a given country, term name and category name",
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetsectorAnalysisLogGroup"
      ]
    },
    "GetstockAnalysisLambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
          "S3Key": "serverless/SP-Node-Lambda-Functions/dev/1771505487854-2026-02-19T12:51:27.854Z/SP-Node-Lambda-Functions.zip"
        },
        "Handler": "External/stockAnalysis.get",
        "Runtime": "nodejs18.x",
        "FunctionName": "SP-Node-Lambda-Functions-dev-getstockAnalysis",
        "MemorySize": 1024,
        "Timeout": 300,
        "Description": "Generate the stock analysis for a given country, term name, category name and top three sectors",
        "Environment": {
          "Variables": {
            "JWT_SECRET": "iamworkinginheliosassoftwareengineer",
            "CountryTable": "Country",
            "TokenHistoryTable": "TokenHistory",
            "StockTermTable": "StockTerms",
            "UserCFTable": "UserCF",
            "NewsTable": "NewsRawData",
            "FilteredNews": "FilteredNews"
          }
        },
        "Role": {
          "Fn::GetAtt": [
            "IamRoleLambdaExecution",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "GetstockAnalysisLogGroup"
      ]
    },
    "GetCountriesLambdaVersionjPXOQikynC6SFj6eH7jKmxI0cY9peLpLLLuN6b8U4": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetCountriesLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0="
      }
    },
    "PostTokenLambdaVersionjDCxiq9lLqj0R6bXxv6EF6sobDZNjYQJXOQ0ahP92G8": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "PostTokenLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0="
      }
    },
    "GetStockTermsLambdaVersionSrd7TnZ44hpxoYqTiQZHXjWGe5md6sEKf0YEVXdvk": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetStockTermsLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0="
      }
    },
    "GetStockCategoryLambdaVersionp4u4bqmK4j22vfUboxPtqUMm5HcZMUyE0kfgliRzoo": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetStockCategoryLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0="
      }
    },
    "UserFlowLambdaVersion65qPzE2W4fBChzUmbQzfnIC6BQ4rxzh3hq23qIAwdno": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "UserFlowLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0="
      }
    },
    "GetNewsLambdaVersion6G0OaE2WBd7HOU915YgOVbW5quXY1ygySyrwL8W5g": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetNewsLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0=",
        "Description": "Fetches news data for a given country and date range"
      }
    },
    "GettermAnalysisLambdaVersioni90HJjC1KQh70rZoR9tkH5u92z3GlOmTJ65sAFDtls": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GettermAnalysisLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0=",
        "Description": "Generate the term analysis for a given country"
      }
    },
    "GetcategoryAnalysisLambdaVersionowziEWkSFfxSYTWrfibQGRYpNfrwlw222gMUrcFz74": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetcategoryAnalysisLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0=",
        "Description": "Generate the category analysis for a given country and term name"
      }
    },
    "GetsectorAnalysisLambdaVersionj6JJcpRI9EtUeWxtnVeXZjkO4pZUzDJtkIL53b4wHoI": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetsectorAnalysisLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0=",
        "Description": "Generate the sector analysis for a given country, term name and category name"
      }
    },
    "GetstockAnalysisLambdaVersionkjn0r5fLkNjrdelZFAhj0YDcSwq9hto6zK9qOBaJo": {
      "Type": "AWS::Lambda::Version",
      "DeletionPolicy": "Retain",
      "Properties": {
        "FunctionName": {
          "Ref": "GetstockAnalysisLambdaFunction"
        },
        "CodeSha256": "Pd+4KXZFT7buxuLM2dCFomIiwV5xKwXqcsezpgYcCT0=",
        "Description": "Generate the stock analysis for a given country, term name, category name and top three sectors"
      }
    },
    "ApiGatewayRestApi": {
      "Type": "AWS::ApiGateway::RestApi",
      "Properties": {
        "Name": "dev-SP-Node-Lambda-Functions",
        "EndpointConfiguration": {
          "Types": [
            "EDGE"
          ]
        },
        "Policy": ""
      }
    },
    "ApiGatewayResourceCountries": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "ApiGatewayRestApi",
            "RootResourceId"
          ]
        },
        "PathPart": "countries",
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        }
      }
    },
    "ApiGatewayResourceTokengeneration": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "ApiGatewayRestApi",
            "RootResourceId"
          ]
        },
        "PathPart": "tokengeneration",
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        }
      }
    },
    "ApiGatewayResourceStockterms": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "ApiGatewayRestApi",
            "RootResourceId"
          ]
        },
        "PathPart": "stockterms",
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        }
      }
    },
    "ApiGatewayResourceStockcategory": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "ApiGatewayRestApi",
            "RootResourceId"
          ]
        },
        "PathPart": "stockcategory",
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        }
      }
    },
    "ApiGatewayResourceUserflow": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "ApiGatewayRestApi",
            "RootResourceId"
          ]
        },
        "PathPart": "userflow",
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        }
      }
    },
    "ApiGatewayMethodCountriesGet": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "RequestParameters": {},
        "ResourceId": {
          "Ref": "ApiGatewayResourceCountries"
        },
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        },
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "GetCountriesLambdaFunction",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "MethodResponses": []
      },
      "DependsOn": [
        "GetCountriesLambdaPermissionApiGateway"
      ]
    },
    "ApiGatewayMethodTokengenerationPut": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "PUT",
        "RequestParameters": {},
        "ResourceId": {
          "Ref": "ApiGatewayResourceTokengeneration"
        },
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        },
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "PostTokenLambdaFunction",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "MethodResponses": []
      },
      "DependsOn": [
        "PostTokenLambdaPermissionApiGateway"
      ]
    },
    "ApiGatewayMethodStocktermsGet": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "RequestParameters": {},
        "ResourceId": {
          "Ref": "ApiGatewayResourceStockterms"
        },
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        },
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "GetStockTermsLambdaFunction",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "MethodResponses": []
      },
      "DependsOn": [
        "GetStockTermsLambdaPermissionApiGateway"
      ]
    },
    "ApiGatewayMethodStockcategoryGet": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "RequestParameters": {},
        "ResourceId": {
          "Ref": "ApiGatewayResourceStockcategory"
        },
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        },
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "GetStockCategoryLambdaFunction",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "MethodResponses": []
      },
      "DependsOn": [
        "GetStockCategoryLambdaPermissionApiGateway"
      ]
    },
    "ApiGatewayMethodUserflowPut": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "PUT",
        "RequestParameters": {},
        "ResourceId": {
          "Ref": "ApiGatewayResourceUserflow"
        },
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        },
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "UserFlowLambdaFunction",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        },
        "MethodResponses": []
      },
      "DependsOn": [
        "UserFlowLambdaPermissionApiGateway"
      ]
    },
    "ApiGatewayDeployment1771505474525": {
      "Type": "AWS::ApiGateway::Deployment",
      "Properties": {
        "RestApiId": {
          "Ref": "ApiGatewayRestApi"
        },
        "StageName": "dev"
      },
      "DependsOn": [
        "ApiGatewayMethodCountriesGet",
        "ApiGatewayMethodTokengenerationPut",
        "ApiGatewayMethodStocktermsGet",
        "ApiGatewayMethodStockcategoryGet",
        "ApiGatewayMethodUserflowPut"
      ]
    },
    "GetCountriesLambdaPermissionApiGateway": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "FunctionName": {
          "Fn::GetAtt": [
            "GetCountriesLambdaFunction",
            "Arn"
          ]
        },
        "Action": "lambda:InvokeFunction",
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "ApiGatewayRestApi"
              },
              "/*/*"
            ]
          ]
        }
      }
    },
    "PostTokenLambdaPermissionApiGateway": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "FunctionName": {
          "Fn::GetAtt": [
            "PostTokenLambdaFunction",
            "Arn"
          ]
        },
        "Action": "lambda:InvokeFunction",
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "ApiGatewayRestApi"
              },
              "/*/*"
            ]
          ]
        }
      }
    },
    "GetStockTermsLambdaPermissionApiGateway": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "FunctionName": {
          "Fn::GetAtt": [
            "GetStockTermsLambdaFunction",
            "Arn"
          ]
        },
        "Action": "lambda:InvokeFunction",
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "ApiGatewayRestApi"
              },
              "/*/*"
            ]
          ]
        }
      }
    },
    "GetStockCategoryLambdaPermissionApiGateway": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "FunctionName": {
          "Fn::GetAtt": [
            "GetStockCategoryLambdaFunction",
            "Arn"
          ]
        },
        "Action": "lambda:InvokeFunction",
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "ApiGatewayRestApi"
              },
              "/*/*"
            ]
          ]
        }
      }
    },
    "UserFlowLambdaPermissionApiGateway": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "FunctionName": {
          "Fn::GetAtt": [
            "UserFlowLambdaFunction",
            "Arn"
          ]
        },
        "Action": "lambda:InvokeFunction",
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "ApiGatewayRestApi"
              },
              "/*/*"
            ]
          ]
        }
      }
    }
  },
  "Outputs": {
    "ServerlessDeploymentBucketName": {
      "Value": "serverless-framework-deployments-ap-south-1-c93cf11a-8362",
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-ServerlessDeploymentBucketName"
      }
    },
    "GetCountriesLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetCountriesLambdaVersionjPXOQikynC6SFj6eH7jKmxI0cY9peLpLLLuN6b8U4"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetCountriesLambdaFunctionQualifiedArn"
      }
    },
    "PostTokenLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "PostTokenLambdaVersionjDCxiq9lLqj0R6bXxv6EF6sobDZNjYQJXOQ0ahP92G8"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-PostTokenLambdaFunctionQualifiedArn"
      }
    },
    "GetStockTermsLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetStockTermsLambdaVersionSrd7TnZ44hpxoYqTiQZHXjWGe5md6sEKf0YEVXdvk"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetStockTermsLambdaFunctionQualifiedArn"
      }
    },
    "GetStockCategoryLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetStockCategoryLambdaVersionp4u4bqmK4j22vfUboxPtqUMm5HcZMUyE0kfgliRzoo"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetStockCategoryLambdaFunctionQualifiedArn"
      }
    },
    "UserFlowLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "UserFlowLambdaVersion65qPzE2W4fBChzUmbQzfnIC6BQ4rxzh3hq23qIAwdno"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-UserFlowLambdaFunctionQualifiedArn"
      }
    },
    "GetNewsLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetNewsLambdaVersion6G0OaE2WBd7HOU915YgOVbW5quXY1ygySyrwL8W5g"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetNewsLambdaFunctionQualifiedArn"
      }
    },
    "GettermAnalysisLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GettermAnalysisLambdaVersioni90HJjC1KQh70rZoR9tkH5u92z3GlOmTJ65sAFDtls"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GettermAnalysisLambdaFunctionQualifiedArn"
      }
    },
    "GetcategoryAnalysisLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetcategoryAnalysisLambdaVersionowziEWkSFfxSYTWrfibQGRYpNfrwlw222gMUrcFz74"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetcategoryAnalysisLambdaFunctionQualifiedArn"
      }
    },
    "GetsectorAnalysisLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetsectorAnalysisLambdaVersionj6JJcpRI9EtUeWxtnVeXZjkO4pZUzDJtkIL53b4wHoI"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetsectorAnalysisLambdaFunctionQualifiedArn"
      }
    },
    "GetstockAnalysisLambdaFunctionQualifiedArn": {
      "Description": "Current Lambda function version",
      "Value": {
        "Ref": "GetstockAnalysisLambdaVersionkjn0r5fLkNjrdelZFAhj0YDcSwq9hto6zK9qOBaJo"
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-GetstockAnalysisLambdaFunctionQualifiedArn"
      }
    },
    "ServiceEndpoint": {
      "Description": "URL of the service endpoint",
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "ApiGatewayRestApi"
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region"
            },
            ".",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/dev"
          ]
        ]
      },
      "Export": {
        "Name": "sls-SP-Node-Lambda-Functions-dev-ServiceEndpoint"
      }
    }
  }
}